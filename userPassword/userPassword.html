<div class="lmx-user-password lmx-row">
    <div ng-if=":: !registration" class="lmx-settings-line">
        <div ng-if="!isChangeProcessStarted" class="lmx-info">
            <h3>{{'accounts.userPassword.password' | translate}}</h3>
            <lmx-notifications area="userPassword"></lmx-notifications>
            <div class="lmx-current-value-container">
                <div class="lmx-current-value">
                    <span>**********</span>
                </div>
                <div>
                    <a ng-click="openForm()" class="lmx-pseudolink" href="">{{'buttons.change'|translate}}</a>
                </div>
            </div>
        </div>

        <div ng-if="isChangeProcessStarted" class="lmx-user-password-changing">
            <h3>{{'accounts.userPassword.title' | translate}}</h3>
            <lmx-notifications area="userPassword"></lmx-notifications>
            <form novalidate="" name="form" ng-submit="form.$valid && save()">
                <form-group label-text="{{'accounts.userPassword.currentPassword' | translate}}">
                    <input type="password" ng-model="model.currentPassword" ng-disabled="inProgress" name="currentPassword" id="lmx-currentPassword" autofocus="" required="">
                </form-group>

                <form-group label-text="{{'accounts.userPassword.newPassword' | translate}}">
                    <input type="password" ng-model="model.newPassword" ng-disabled="inProgress" name="newPassword" id="lmx-newPassword" required="" user-password-requirements="">
                </form-group>

                <form-group label-text="{{'accounts.userPassword.repeatPassword' | translate}}">
                    <input type="password" ng-model="model.repeatPassword" ng-disabled="inProgress" name="repeatPassword" id="lmx-repeatPassword" is-equal-passwords="model.newPassword" required="">
                </form-group>

                <div class="lmx-btn-container">
                    <inline-loader line="">inProgress</inline-loader>
                    <div ng-hide="inProgress">
                        <button type="button" id="lmx-settings-cancel" ng-click="closeForm()" class="lmx-btn-cancel">
                            {{'buttons.cancel' | translate}}
                        </button>
                        <button type="submit" id="lmx-settings-submit">
                            {{'buttons.approve' | translate}}
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div ng-if=":: registration">
        <h2>{{'registration.passwordStep.title' | translate}}</h2>
        <lmx-notifications area="registration"></lmx-notifications>
        <form novalidate="" name="setPasswordForm" ng-submit="setPasswordForm.$valid && setPassword()">
            <form-group label-text="{{'registration.passwordStep.password' | translate}}">
                <input type="password" ng-model="model.currentPassword" id="lmx-password" name="password" ng-disabled="inProgress" user-password-requirements="" required="">
            </form-group>
            <form-group label-text="{{'registration.passwordStep.repeatPassword' | translate}}">
                <input type="password" ng-model="model.repeatPassword" id="lmx-passwordConfirm" name="passwordConfirm" ng-disabled="inProgress" is-equal-passwords="model.currentPassword" required="">
            </form-group>
            <div class="lmx-btn-container">
                <inline-loader line="">inProgress</inline-loader>
                <div ng-hide="inProgress">
                    <button type="button" ng-click="closeForm()" class="lmx-btn-cancel" id="lmx-registration-password__cancel">
                        {{'buttons.cancel' | translate}}
                    </button>
                    <button type="submit" id="lmx-registration-password__submit">
                        {{'buttons.next' | translate}}
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
