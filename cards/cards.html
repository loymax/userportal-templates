<div class="lmx-container lmx-cards">
    <section>
        <h2>{{'cards.title' | translate}}</h2>
        <div loader="inProgress">
            <div ng-if="!inProgress">
                <lmx-tabs ng-if="isAttachCardAvailable" list="tabs" ng-model="selectedTab.value" view-field="name">
                </lmx-tabs>
                <div ng-show="selectedTab.value === tabs.personalCards" ng-class="::{'lmx-no-add-card-button': !maxCountOfMainCardsForUserNotReached}" class="lmx-personal-cards">
                    <!-- <p ng-bind-html="'cards.replaceHint' | translate"></p> -->

                    <div class="lmx-card-item-wrap" ng-repeat="card in cards.personal track by card.id">
                        <card card="card" class="lmx-card-item"></card>
                    </div>
                    <div class="lmx-add-card-buttons" ng-if="maxCountOfMainCardsForUserNotReached">
                        <button ng-click="setCard()" type="button" class="lmx-set-card-btn">
                            {{'cards.actions.set' | translate}}
                        </button>
                    </div>
                </div>

                <div ng-show="selectedTab.value === tabs.accountCards" class="lmx-account-cards">
                    <div ng-repeat="card in cards.group track by card.id">
                        <card card="card" class="lmx-card-item" in-group=""></card>
                    </div>
                    <div class="lmx-add-card-buttons">
                        <button ng-click="attachCard()" type="button" class="lmx-attach-btn">
                            {{'cards.actions.attach' | translate}}
                        </button>
                    </div>
                </div>
            </div>
            <div class='how-to-change'>
                <p>Моя карта потерялась:</p>
                <span>Не переживайте: карты теряются, но накопления остаются. Сейчас расскажем, что делать.</span>
                <ul>
                    <li>Оформите новую карту на кассе любой PRISMA.</li>
                    <li>В личном кабинете войдите во вкладку Карта PRISMA и нажмите на кнопку «Заменить карту».</li>
                    <li>Следуйте инструкции — мы перенесём все накопления и историю покупок на новую карту, а старую заблокируем.</li>
                </ul>
            </div>
        </div>
    </section>
</div>
